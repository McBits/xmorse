!function(e){function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=22)}([function(e,n,t){"use strict";function r(e,n){document.dispatchEvent(new CustomEvent(e,{detail:n}))}function a(e,n){document.addEventListener(e,function(e){return n(e.detail)})}n.Notify=r,n.Listen=a,n.CHAR_SPACING="charSpacing",n.FLASHING_ENABLED="flashingEnabled",n.LETTER="letter",n.LETTERS_ENABLED="lettersEnabled",n.MANUAL_CHAR_SPACING="manual_charSpacing",n.MANUAL_FLASHING_ENABLED="manual_flashingEnabled",n.MANUAL_LETTERS_ENABLED="manual_lettersEnabled",n.MANUAL_NUMBERS_ENABLED="manual_numbersEnabled",n.MANUAL_PITCH="manual_pitch",n.MANUAL_SYMBOLS_ENABLED="manual_symbolsEnabled",n.MANUAL_TEXT_BUFFER="manual_textBuffer",n.MANUAL_VOICE_ENABLED="manual_voiceEnabled",n.MANUAL_VOLUME="manual_volume",n.MANUAL_WPM="manual_wpm",n.NOW_PLAYING="nowPlaying",n.NUMBERS_ENABLED="numbersEnabled",n.OUTPUT="output",n.PATTERN_COMPLETE="patternComplete",n.PAUSE="pause",n.PITCH="pitch",n.START="start",n.STORY="book",n.STOP="stop",n.SYMBOLS_ENABLED="symbolsEnabled",n.TEXT_BUFFER="textBuffer",n.TONE_OFF="toneOff",n.TONE_ON="toneOn",n.VIEW_HOME="view_home",n.VIEW_OPTIONS="view_options",n.VIEW_PLAYING="view_player",n.VIEW_STORIES="view_stories",n.VIEW_TEXT="view_text",n.VOICE_DONE="voiceDone",n.VOICE_LOADED="voiceLoaded",n.VOICE_ENABLED="voiceEnabled",n.VOLUME="volume",n.WATCH="watch",n.WPM="wpm"},function(e,n,t){"use strict";n.Audio=new(AudioContext||window.webkitAudioContext),n.MasterGain=n.Audio.createGain(),n.MasterGain.gain.value=.5,n.MasterGain.connect(n.Audio.destination)},function(e,n,t){"use strict";var r=t(0);r.Listen(r.NOW_PLAYING,function(e){return n.NowPlaying=e}),r.Listen(r.WPM,function(e){return n.UnitTime=1.2/e*1e3}),r.Listen(r.CHAR_SPACING,function(e){return n.CharSpacing=e})},function(e,n,t){"use strict";function r(){N.gain.setTargetAtTime(m,f.Audio.currentTime+d,p),c.Notify(c.TONE_ON,null)}function a(){N.gain.setTargetAtTime(0,f.Audio.currentTime+d,p),c.Notify(c.TONE_OFF,null)}function i(e,n){return u(this,void 0,void 0,function(){var t;return l(this,function(o){switch(o.label){case 0:return E.NowPlaying?(t="."===e.pattern.charAt(n++)?1:3,r(),[4,s.Sleep(E.UnitTime*t)]):[3,5];case 1:return o.sent(),a(),n>=e.pattern.length?(c.Notify(c.PATTERN_COMPLETE,e),[3,5]):[3,2];case 2:return[4,s.Sleep(E.UnitTime)];case 3:return o.sent(),[4,i(e,n)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function o(e){return u(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return null!=e?[3,1]:(console.log("char was null!"),c.Notify(c.PATTERN_COMPLETE,null),[3,3]);case 1:return c.Notify(c.LETTER,e.pattern),[4,i(e,0)];case 2:n.sent(),n.label=3;case 3:return[2]}})})}var u=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new t(function(n){n(e.value)}).then(o,u)}l((r=r.apply(e,n)).next())})},l=this&&this.__generator||function(e,n){function t(e){return function(n){return r([e,n])}}function r(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(o=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[0,o.value]),t[0]){case 0:case 1:o=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){u.label=t[1];break}if(6===t[0]&&u.label<o[1]){u.label=o[1],o=t;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(t);break}o[2]&&u.ops.pop(),u.trys.pop();continue}t=n.call(e,u)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var a,i,o,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return{next:t(0),throw:t(1),return:t(2)}},c=t(0),s=t(6),f=t(1),E=t(2),d=navigator.userAgent.indexOf("irefox")!==-1?.05:1e-4,m=.9,p=.005,L=f.Audio.createOscillator(),N=f.Audio.createGain();N.gain.setValueAtTime(0,f.Audio.currentTime),L.connect(N),N.connect(f.MasterGain),L.start(0),n.PlayPattern=o,c.Listen(c.PITCH,function(e){return L.frequency.value=e})},function(e,n,t){"use strict";function r(e,n){return o(this,void 0,void 0,function(){var t;return u(this,function(r){switch(r.label){case 0:return N=n,L.indexOf(e.name)>-1?(l.Notify(l.VOICE_LOADED,e),[2]):[4,f.Load("/audio/"+e.fileName,"arraybuffer")];case 1:return t=r.sent(),c.Audio.decodeAudioData(t,function(n){d[e.name]=n;var t=p.indexOf(e.name);t>-1&&p.splice(t,1),L.indexOf(e.name)<0&&L.push(e.name),l.Notify(l.VOICE_LOADED,e)},function(e){return console.log("Error loading audio source: ",e)}),[2]}})})}function a(e){m&&L.indexOf(e.name)<0&&p.indexOf(e.name)<0&&(p.push(e.name),r(e,!1))}function i(e){return o(this,void 0,void 0,function(){var n,t;return u(this,function(a){switch(a.label){case 0:return s.NowPlaying?m?p.indexOf(e.name)>-1?(N=!0,[3,4]):[3,1]:(document.dispatchEvent(new Event(l.VOICE_DONE)),[2]):[2];case 1:return L.indexOf(e.name)<0?[4,r(e,!0)]:[3,3];case 2:return a.sent(),[3,4];case 3:n=d[e.name],t=c.Audio.createBufferSource(),t.addEventListener("ended",function(){return document.dispatchEvent(new Event(l.VOICE_DONE))}),t.buffer=n,t.connect(E),t.start(0),a.label=4;case 4:return[2]}})})}var o=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new t(function(n){n(e.value)}).then(o,u)}l((r=r.apply(e,n)).next())})},u=this&&this.__generator||function(e,n){function t(e){return function(n){return r([e,n])}}function r(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(o=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[0,o.value]),t[0]){case 0:case 1:o=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){u.label=t[1];break}if(6===t[0]&&u.label<o[1]){u.label=o[1],o=t;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(t);break}o[2]&&u.ops.pop(),u.trys.pop();continue}t=n.call(e,u)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var a,i,o,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return{next:t(0),throw:t(1),return:t(2)}},l=t(0),c=t(1),s=t(2),f=t(7),E=c.Audio.createGain();E.gain.value=.85,E.connect(c.MasterGain);var d={},m=!0,p=[],L=[],N=!1;n.PreloadVoice=a,n.PlayVoice=i,l.Listen(l.VOICE_ENABLED,function(e){return m=e}),l.Listen(l.VOICE_LOADED,function(e){N&&i(e),N=!1})},function(e,n,t){"use strict";function r(e,n){return(n||document).querySelector(e)}function a(e,n){return(n||document).querySelectorAll(e)}function i(e){return document.getElementById(e)}n.Query=r,n.QueryAll=a,n.QueryId=i},function(e,n,t){"use strict";function r(e){return new Promise(function(n){return setTimeout(n,e)})}n.Sleep=r},function(e,n,t){"use strict";function r(e,n){return new Promise(function(t,r){var a=new XMLHttpRequest;a.responseType=n,a.open("GET",e),a.onload=function(){200===a.status?t(a.response):r(Error("There was a problem downloading the data: "+a))},a.onerror=function(){return r(Error("There was a problem downloading the data: "+a))},a.send()})}n.Load=r},function(e,n){},function(e,n,t){e.exports=t.p+"CNAME"},function(e,n,t){e.exports=t.p+"favicon.ico"},function(e,n,t){e.exports=t.p+"google90d264b1a2a461c8.html"},function(e,n,t){e.exports=t.p+"index.html"},function(e,n,t){e.exports=t.p+"privacy.html"},function(e,n,t){e.exports=t.p+"robots.txt"},function(e,n,t){"use strict";function r(){b?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen():document.fullscreenEnabled?h.requestFullscreen():document.webkitFullscreenEnabled?h.webkitRequestFullscreen():document.mozFullScreenEnabled&&h.mozRequestFullScreen()}function a(){b=!b,v=Date.now()}function i(){v=Date.now()}function o(){Date.now()-v>A?(c(),b&&u()):(s(),l())}function u(){T&&(h.style.cursor="none"),T=!1}function l(){T||(h.style.cursor="default"),T=!0}function c(){y&&p.classList.add("disabled"),y=!1}function s(){y||p.classList.remove("disabled"),y=!0}function f(){s(),document.addEventListener("mousemove",i),d=setInterval(o,200)}function E(){clearInterval(d),document.removeEventListener("mousemove",i),l(),c()}var d,m=t(5),p=m.Query(".btn-fullscreen"),L=m.Query(".btn-start"),N=m.Query(".btn-stop"),h=m.Query(".view.playing"),b=!1,v=Date.now(),A=2e3,y=!1,T=!1;L.addEventListener("click",f),N.addEventListener("click",E),document.fullscreenEnabled?document.addEventListener("fullscreenchange",a):document.webkitFullscreenEnabled?document.addEventListener("webkitfullscreenchange",a):document.mozFullScreenEnabled&&document.addEventListener("mozfullscreenchange",a),p.addEventListener("click",r)},function(e,n,t){"use strict";function r(){return l(this,void 0,void 0,function(){var e,n;return c(this,function(t){switch(t.label){case 0:return L.NowPlaying?(e=p.Next(),e[1]?e[0]===e[1].name?[3,2]:(s.Notify(s.OUTPUT,e[0].substr(0,e[0].length-1)),[4,f.Sleep(L.UnitTime*L.CharSpacing*(7/3))]):[3,4]):[3,7];case 1:t.sent(),t.label=2;case 2:return n=e[1],m.PreloadVoice(n),[4,d.PlayPattern(n)];case 3:return t.sent(),[3,5];case 4:s.Notify(s.PATTERN_COMPLETE,null),t.label=5;case 5:return[4,f.Sleep(L.UnitTime*L.CharSpacing)];case 6:t.sent(),t.label=7;case 7:return[2]}})})}function a(e){E.MasterGain.gain.setTargetAtTime(e,E.Audio.currentTime,.01)}function i(){return l(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return L.NowPlaying?[3,2]:(s.Notify(s.NOW_PLAYING,!0),[4,r()]);case 1:e.sent(),e.label=2;case 2:return[2]}})})}function o(){s.Notify(s.NOW_PLAYING,!1)}function u(e){return l(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return L.NowPlaying?null!=e?[3,2]:[4,f.Sleep(L.UnitTime*L.CharSpacing)]:[3,5];case 1:return n.sent(),r(),[3,5];case 2:return s.Notify(s.LETTER,e.name),[4,f.Sleep(L.UnitTime*L.CharSpacing)];case 3:return n.sent(),[4,m.PlayVoice(e)];case 4:n.sent(),n.label=5;case 5:return[2]}})})}var l=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new t(function(n){n(e.value)}).then(o,u)}l((r=r.apply(e,n)).next())})},c=this&&this.__generator||function(e,n){function t(e){return function(n){return r([e,n])}}function r(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(o=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[0,o.value]),t[0]){case 0:case 1:o=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){u.label=t[1];break}if(6===t[0]&&u.label<o[1]){u.label=o[1],o=t;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(t);break}o[2]&&u.ops.pop(),u.trys.pop();continue}t=n.call(e,u)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var a,i,o,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return{next:t(0),throw:t(1),return:t(2)}},s=t(0),f=t(6),E=t(1),d=t(3),m=t(4),p=t(21),L=t(2);s.Listen(s.VOICE_DONE,r),s.Listen(s.PAUSE,o),s.Listen(s.STOP,o),s.Listen(s.START,i),s.Listen(s.PATTERN_COMPLETE,u),s.Listen(s.VOLUME,a)},function(e,n,t){"use strict";function r(){var e=location.hash;i[e]&&a.Notify(i[e],null),""===e&&location.href.indexOf("#")>-1&&history.replaceState("",document.title,window.location.pathname)}var a=t(0),i={"":a.VIEW_HOME,"#playing":a.VIEW_PLAYING,"#options":a.VIEW_OPTIONS,"#stories":a.VIEW_STORIES,"#text":a.VIEW_TEXT};window.addEventListener("hashchange",r),document.addEventListener("DOMContentLoaded",r)},function(e,n,t){"use strict";var r=t(0);r.Listen(r.MANUAL_CHAR_SPACING,function(e){localStorage.setItem("charSpacing",e)}),r.Listen(r.MANUAL_FLASHING_ENABLED,function(e){localStorage.setItem("flashingEnabled",e.toString())}),r.Listen(r.MANUAL_LETTERS_ENABLED,function(e){localStorage.setItem("lettersEnabled",e.toString())}),r.Listen(r.MANUAL_NUMBERS_ENABLED,function(e){localStorage.setItem("numbersEnabled",e.toString())}),r.Listen(r.MANUAL_PITCH,function(e){localStorage.setItem("pitch",e)}),r.Listen(r.MANUAL_SYMBOLS_ENABLED,function(e){localStorage.setItem("symbolsEnabled",e.toString())}),r.Listen(r.MANUAL_TEXT_BUFFER,function(e){return localStorage.setItem("textBuffer",e.toString())}),r.Listen(r.MANUAL_VOICE_ENABLED,function(e){localStorage.setItem("voiceEnabled",e.toString())}),r.Listen(r.MANUAL_VOLUME,function(e){return localStorage.setItem("volume",e)}),r.Listen(r.MANUAL_WPM,function(e){return localStorage.setItem("wpm",e)})},function(e,n,t){"use strict";function r(e,n){for(var t=o.QueryAll(".view"),r=0;r<t.length;++r){var a=t[r];a.classList.contains("disabled")||a.classList.add("disabled")}var i=o.Query(e);i.classList.remove("disabled");for(var u=o.QueryAll("nav.controls .btn"),r=0;r<u.length;++r){var l=u[r];l.classList.remove("active")}n.classList.add("active")}function a(e,n){i.Notify("manual_"+e,n.toString()),i.Notify(e,n)}var i=t(0),o=t(5),u=(o.Query(".btn-home"),o.QueryAll(".btn-start")),l=o.Query(".btn-start"),c=o.Query(".btn-pause"),s=o.Query(".btn-stop"),f=o.Query(".letter"),E=o.Query(".outputBuffer"),d=o.QueryAll(".story a"),m=o.QueryId("resetSettings"),p=o.Query(".volumeText"),L=o.Query(".charWPMText"),N=o.Query(".pitchText"),h=o.Query(".charSpacingText"),b={volume:o.QueryId("volume"),charWPM:o.QueryId("charWPM"),pitch:o.QueryId("pitch"),charSpacing:o.QueryId("charSpacing"),voiceEnabled:o.QueryId("voiceEnabled"),pasteTextBox:o.QueryId("pasteText"),flashingEnabled:o.QueryId("flashingEnabled"),lettersEnabled:o.QueryId("lettersEnabled"),numbersEnabled:o.QueryId("numbersEnabled"),symbolsEnabled:o.QueryId("symbolsEnabled")},v={charSpacing:15,flashingEnabled:!1,lettersEnabled:!0,numbersEnabled:!1,pitch:650,symbolsEnabled:!1,voiceEnabled:!0,volume:.4,wpm:12};b.volume.addEventListener("input",function(){return a(i.VOLUME,parseFloat(b.volume.value))}),b.charWPM.addEventListener("input",function(){return a(i.WPM,parseInt(b.charWPM.value))}),b.charSpacing.addEventListener("input",function(){return a(i.CHAR_SPACING,parseInt(b.charSpacing.value))}),b.pitch.addEventListener("input",function(){return a(i.PITCH,parseInt(b.pitch.value))}),b.pasteTextBox.addEventListener("input",function(){return a(i.TEXT_BUFFER,b.pasteTextBox.value)}),b.voiceEnabled.addEventListener("change",function(){return a(i.VOICE_ENABLED,b.voiceEnabled.checked)}),b.flashingEnabled.addEventListener("change",function(){return a(i.FLASHING_ENABLED,b.flashingEnabled.checked)}),b.lettersEnabled.addEventListener("change",function(){return a(i.LETTERS_ENABLED,b.lettersEnabled.checked)}),b.numbersEnabled.addEventListener("change",function(){return a(i.NUMBERS_ENABLED,b.numbersEnabled.checked)}),b.symbolsEnabled.addEventListener("change",function(){return a(i.SYMBOLS_ENABLED,b.symbolsEnabled.checked)}),m.addEventListener("click",function(){a(i.CHAR_SPACING,v.charSpacing),a(i.FLASHING_ENABLED,v.flashingEnabled),a(i.LETTERS_ENABLED,v.lettersEnabled),a(i.NUMBERS_ENABLED,v.numbersEnabled),a(i.PITCH,v.pitch),a(i.SYMBOLS_ENABLED,v.symbolsEnabled),a(i.VOICE_ENABLED,v.voiceEnabled),a(i.VOLUME,v.volume),a(i.WPM,v.wpm)}),c.addEventListener("click",function(){return i.Notify(i.PAUSE,null)});for(var A=0;A<u.length;++A)u[A].addEventListener("click",function(){return i.Notify(i.START,null)});s.addEventListener("click",function(){return i.Notify(i.STOP,null)});for(var A=0;A<d.length;++A){var y=d[A];y.addEventListener("click",function(e){e.preventDefault();var n=e.target,t=n.href;i.Notify(i.STORY,t)})}i.Listen(i.PAUSE,function(){l.disabled=!1,c.disabled=!0,s.disabled=!0}),i.Listen(i.START,function(){i.Notify(i.WATCH,null),l.disabled=!0,c.disabled=!1,s.disabled=!1}),i.Listen(i.STOP,function(){location.hash="",E.innerHTML="",f.innerHTML="",l.disabled=!1,c.disabled=!0,s.disabled=!0}),i.Listen(i.CHAR_SPACING,function(e){h.value=e.toString(),b.charSpacing.value=e.toString()}),i.Listen(i.FLASHING_ENABLED,function(e){return b.flashingEnabled.checked=e}),i.Listen(i.LETTERS_ENABLED,function(e){return b.lettersEnabled.checked=e}),i.Listen(i.NUMBERS_ENABLED,function(e){return b.numbersEnabled.checked=e}),i.Listen(i.PITCH,function(e){N.value=e.toString(),b.pitch.value=e.toString()}),i.Listen(i.SYMBOLS_ENABLED,function(e){return b.symbolsEnabled.checked=e}),i.Listen(i.TEXT_BUFFER,function(e){return b.pasteTextBox.value=e}),i.Listen(i.VOICE_ENABLED,function(e){return b.voiceEnabled.checked=e}),i.Listen(i.VOLUME,function(e){p.value=Math.floor(100*e).toString(),b.volume.value=e.toString()}),i.Listen(i.WPM,function(e){L.value=e.toString(),b.charWPM.value=e.toString()}),i.Listen(i.LETTER,function(e){return f.innerHTML=e}),i.Listen(i.OUTPUT,function(e){E.innerHTML+=e,E.scrollTop=E.scrollHeight}),i.Listen(i.PATTERN_COMPLETE,function(e){E.innerHTML+=null==e?" ":e.name,E.scrollTop=E.scrollHeight}),i.Listen(i.TONE_OFF,function(){return o.Query("body").classList.remove("toneOn")}),i.Listen(i.TONE_ON,function(){b.flashingEnabled.checked&&o.Query("body").classList.add("toneOn")}),i.Listen(i.WATCH,function(){return location.hash="#playing"}),i.Listen(i.VIEW_HOME,function(){return r(".home",o.Query(".btn-home"))}),i.Listen(i.VIEW_OPTIONS,function(){return r(".options",o.Query(".btn-options"))}),i.Listen(i.VIEW_PLAYING,function(){return r(".playing",o.Query(".btn-playing"))}),i.Listen(i.VIEW_STORIES,function(){return r(".stories",o.Query(".btn-stories"))}),i.Listen(i.VIEW_TEXT,function(){return r(".paste",o.Query(".btn-paste"))}),document.addEventListener("DOMContentLoaded",function(){i.Notify(i.VOLUME,localStorage.getItem("volume")||v.volume),i.Notify(i.WPM,localStorage.getItem("wpm")||v.wpm),i.Notify(i.CHAR_SPACING,localStorage.getItem("charSpacing")||v.charSpacing),i.Notify(i.PITCH,localStorage.getItem("pitch")||v.pitch);var e=localStorage.getItem("voiceEnabled");null==e?i.Notify(i.VOICE_ENABLED,v.voiceEnabled):i.Notify(i.VOICE_ENABLED,"true"===e);var n=localStorage.getItem("flashingEnabled");null==n?i.Notify(i.FLASHING_ENABLED,v.flashingEnabled):i.Notify(i.FLASHING_ENABLED,"true"===n);var t=localStorage.getItem("lettersEnabled");null==t?i.Notify(i.LETTERS_ENABLED,v.lettersEnabled):i.Notify(i.LETTERS_ENABLED,"true"===t);var r=localStorage.getItem("numbersEnabled");null==r?i.Notify(i.NUMBERS_ENABLED,v.numbersEnabled):i.Notify(i.NUMBERS_ENABLED,"true"===r);var a=localStorage.getItem("symbolsEnabled");null==a?i.Notify(i.SYMBOLS_ENABLED,v.symbolsEnabled):i.Notify(i.SYMBOLS_ENABLED,"true"===a)})},function(e,n,t){"use strict";function r(){var e=[];if(E&&(e=e.concat(c)),d&&(e=e.concat(s)),m&&(e=e.concat(f)),e.length>0){var n=e[Math.floor(Math.random()*e.length)];return o[n]||u[n]||l[n]}return null}function a(e){e=e.toUpperCase();var n=o[e];return n?n:(n=u[e])?n:(n=l[e],n?n:void 0)}var i=t(0),o={A:{name:"A",pattern:".-",fileName:"A.mp3"},B:{name:"B",pattern:"-...",fileName:"B.mp3"},C:{name:"C",pattern:"-.-.",fileName:"C.mp3"},D:{name:"D",pattern:"-..",fileName:"D.mp3"},E:{name:"E",pattern:".",fileName:"E.mp3"},F:{name:"F",pattern:"..-.",fileName:"F.mp3"},G:{name:"G",pattern:"--.",fileName:"G.mp3"},H:{name:"H",pattern:"....",fileName:"H.mp3"},I:{name:"I",pattern:"..",fileName:"I.mp3"},J:{name:"J",pattern:".---",fileName:"J.mp3"},K:{name:"K",pattern:"-.-",fileName:"K.mp3"},L:{name:"L",pattern:".-..",fileName:"L.mp3"},M:{name:"M",pattern:"--",fileName:"M.mp3"},N:{name:"N",pattern:"-.",fileName:"N.mp3"},O:{name:"O",pattern:"---",fileName:"O.mp3"},P:{name:"P",pattern:".--.",fileName:"P.mp3"},Q:{name:"Q",pattern:"--.-",fileName:"Q.mp3"},R:{name:"R",pattern:".-.",fileName:"R.mp3"},S:{name:"S",pattern:"...",fileName:"S.mp3"},T:{name:"T",pattern:"-",fileName:"T.mp3"},U:{name:"U",pattern:"..-",fileName:"U.mp3"},V:{name:"V",pattern:"...-",fileName:"V.mp3"},W:{name:"W",pattern:".--",fileName:"W.mp3"},X:{name:"X",pattern:"-..-",fileName:"X.mp3"},Y:{name:"Y",pattern:"-.--",fileName:"Y.mp3"},Z:{name:"Z",pattern:"--..",fileName:"Z.mp3"}},u={0:{name:"0",pattern:"-----",fileName:"0.mp3"},1:{name:"1",pattern:".----",fileName:"1.mp3"},2:{name:"2",pattern:"..---",fileName:"2.mp3"},3:{name:"3",pattern:"...--",fileName:"3.mp3"},4:{name:"4",pattern:"....-",fileName:"4.mp3"},5:{name:"5",pattern:".....",fileName:"5.mp3"},6:{name:"6",pattern:"-....",fileName:"6.mp3"},7:{name:"7",pattern:"--...",fileName:"7.mp3"},8:{name:"8",pattern:"---..",fileName:"8.mp3"},9:{name:"9",pattern:"----.",fileName:"9.mp3"}},l={".":{name:".",pattern:".-.-.-",fileName:"PERIOD.mp3"},"?":{name:"?",pattern:"..--..",fileName:"QUESTION.mp3"},"!":{name:"!",pattern:"-.-.--",fileName:"EXCLAMATION.mp3"},",":{name:",",pattern:"--..--",fileName:"COMMA.mp3"},":":{name:":",pattern:"---...",fileName:"COLON.mp3"},";":{name:";",pattern:"-.-.-.",fileName:"SEMICOLON.mp3"},"'":{name:"'",pattern:".----.",fileName:"APOSTROPHE.mp3"},"-":{name:"-",pattern:"-....-",fileName:"DASH.mp3"},"/":{name:"/",pattern:"-..-.",fileName:"SLASH.mp3"},"(":{name:"(",pattern:"-.--.",fileName:"OPEN_BRACKET.mp3"},")":{name:")",pattern:"-.--.-",fileName:"CLOSE_BRACKET.mp3"},"@":{name:"@",pattern:".--.-.",fileName:"AT.mp3"},"=":{name:"=",pattern:"-...-",fileName:"EQUALS.mp3"},"+":{name:"+",pattern:".-.-.",fileName:"PLUS.mp3"},'"':{name:'"',pattern:".-..-.",fileName:"QUOTE.mp3"}},c=Object.keys(o),s=Object.keys(u),f=Object.keys(l),E=!0,d=!1,m=!1;n.RandomCharacter=r,n.GetCharacter=a,i.Listen(i.LETTERS_ENABLED,function(e){return E=e}),i.Listen(i.NUMBERS_ENABLED,function(e){return d=e}),i.Listen(i.SYMBOLS_ENABLED,function(e){return m=e})},function(e,n,t){"use strict";function r(){d=E.length>0?0:-1}function a(e){E=e.toUpperCase()+"\n",r()}function i(e){return u(this,void 0,void 0,function(){var n;return l(this,function(t){switch(t.label){case 0:return[4,f.Load(e,"text")];case 1:return n=t.sent(),c.Notify(c.TEXT_BUFFER,n),c.Notify(c.START,null),[2]}})})}function o(){if(E.length>0){var e=d,n="";do{n+=E[d];var t=s.GetCharacter(E[d]);if(++d,d===E.length&&(d=0),t)return[n,t]}while(d!==e);return["",null]}var r=s.RandomCharacter();return[r.name,r]}var u=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new t(function(n){n(e.value)}).then(o,u)}l((r=r.apply(e,n)).next())})},l=this&&this.__generator||function(e,n){function t(e){return function(n){return r([e,n])}}function r(t){if(a)throw new TypeError("Generator is already executing.");for(;u;)try{if(a=1,i&&(o=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[0,o.value]),t[0]){case 0:case 1:o=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){u.label=t[1];break}if(6===t[0]&&u.label<o[1]){u.label=o[1],o=t;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(t);break}o[2]&&u.ops.pop(),u.trys.pop();continue}t=n.call(e,u)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var a,i,o,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return{next:t(0),throw:t(1),return:t(2)}},c=t(0),s=t(20),f=t(7),E="",d=-1;n.Next=o,c.Listen(c.TEXT_BUFFER,a),c.Listen(c.STORY,i),c.Listen(c.STOP,r)},function(e,n,t){"use strict";t(12),t(13),t(10),t(14),t(9),t(11),t(8);t(1),t(4),t(3),t(16),t(15),t(18),t(19),t(17)}]);